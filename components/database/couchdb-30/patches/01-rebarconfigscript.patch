--- apache-couchdb-3.0.0/src/couch/rebar.config.script.~1~	2020-02-20 01:01:32.000000000 +0000
+++ apache-couchdb-3.0.0/src/couch/rebar.config.script	2020-03-07 11:02:01.924289352 +0000
@@ -103,6 +103,11 @@
             "/DXP_WIN",
             "mozjs185-1.0.lib"
         };
+    {solaris, _} when SMVsn == "1.8.5" ->
+        {
+            "-DXP_UNIX -I/usr/include/js -I/usr/local/include/js",
+            "-L/usr/local/lib -lmozjs185 -lm -m32"
+        };
     {unix, _} when SMVsn == "1.8.5" ->
         {
             "-DXP_UNIX -I/usr/include/js -I/usr/local/include/js",
@@ -138,6 +143,11 @@
                     "-DHAVE_CURL -I/usr/local/include",
                     "-DHAVE_CURL -lcurl"
                 };
+            {solaris} ->
+                {
+                    "-DHAVE_CURL -I/usr/include",
+                    "-DHAVE_CURL -lcurl"
+                };
             _ ->
                 {
                     "-DHAVE_CURL",
@@ -186,10 +196,12 @@
         % ICU
         {"darwin", IcuPath, IcuSrc, [{env, IcuEnv ++ IcuDarwinEnv}]},
         {"linux",  IcuPath, IcuSrc, [{env, IcuEnv}]},
+        {"solaris",  IcuPath, IcuSrc, [{env, IcuEnv}]},
         {"bsd",   IcuPath, IcuSrc, [{env, IcuEnv ++ IcuBsdEnv}]},
         {"win32",  IcuPath, IcuSrc, [{env, IcuWinEnv}]},
         % ejson_compare
         {"darwin", ComparePath, CompareSrc, [{env, IcuEnv ++ IcuDarwinEnv}]},
+        {"solaris",  ComparePath, CompareSrc, [{env, IcuEnv}]},
         {"linux",  ComparePath, CompareSrc, [{env, IcuEnv}]},
         {"bsd",   ComparePath, CompareSrc, [{env, IcuEnv ++ IcuBsdEnv}]},
         {"win32",  ComparePath, CompareSrc, [{env, IcuWinEnv}]}
