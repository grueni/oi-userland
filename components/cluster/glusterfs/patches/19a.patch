--- glusterfs-5.3/configure.ac.~1~	2019-01-16 21:27:32.000000000 +0000
+++ glusterfs-5.3/configure.ac	2019-01-21 13:27:41.731024939 +0000
@@ -496,6 +496,14 @@
 
 AC_CHECK_HEADERS([openssl/ecdh.h])
 
+AC_CHECK_HEADER([endian.h],
+		AC_DEFINE([HAVE_ENDIAN_H], [1], [Define to 1 if you have the <endian.h> header file.]),
+		AC_CHECK_HEADER([sys/endian.h],
+				AC_DEFINE([HAVE_SYS_ENDIAN_H], [1], [Define to 1 if you have the <sys/endian.h> header file.]),
+				AC_MSG_WARN([Couldn't find endian.h or sys/endian.h files: doing compile-time tests.])
+				)
+		)
+
 dnl Math library
 AC_CHECK_LIB([m], [pow], [MATH_LIB='-lm'], [MATH_LIB=''])
 AC_SUBST(MATH_LIB)
@@ -831,6 +839,9 @@
      netbsd*)
 #do nothing
        ;;
+     solaris*)
+#do nothing
+       ;;
      *)
 #disabling geo replication for non-linux platforms
         enable_georeplication=no
@@ -1330,6 +1341,9 @@
      darwin*)
         GFAPI_EXTRA_LDFLAGS='-Wl,-alias_list,$(top_srcdir)/api/src/gfapi.aliases'
         ;;
+     solaris*)
+        GFAPI_EXTRA_LDFLAGS='-Wl,-M$(top_srcdir)/api/src/gfapi.map'
+        ;;
      *)
         GFAPI_EXTRA_LDFLAGS='-Wl,--version-script=$(top_srcdir)/api/src/gfapi.map'
         ;;
@@ -1605,6 +1619,9 @@
   linux*)
     GF_NO_UNDEFINED='-Wl,--no-undefined'
     ;;
+  solaris*)
+    GF_NO_UNDEFINED='-Wl,--no-undefined'
+    ;;
   darwin*)
     GF_NO_UNDEFINED='-Wl,-undefined'
     ;;
